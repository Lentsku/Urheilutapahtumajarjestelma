{% extends "layout.html" %}

{% block body %}
<form method="POST" action="{{ url_for('person_update') }}">
  <table>
    <tr>
      <td>
        {{ form.firstname.label }}
      </td>
      <td>
        {{ form.firstname }}
      </td>
      <td>
        {{ person.firstname }}
      </td>
      <td>
        <ul>
          {% for error in form.firstname.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.lastname.label }}
      </td>
      <td>
        {{ form.lastname }}
      </td>
      <td>
        {{ person.lastname }}
      </td>
      <td>
        <ul>
          {% for error in form.lastname.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.birthdate.label }}
      </td>
      <td>
        {{ form.birthdate }}
      </td>
      <td>
        {{ person.birthdate }}
      </td>
      <td>
        <ul>
          {% for error in form.birthdate.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.email.label }}
      </td>
      <td>
        {{ form.email }}
      </td>
      <td>
        {{ person.email }}
      </td>
      <td>
        <ul>
          {% for error in form.email.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.phone.label }}
      </td>
      <td>
        {{ form.phone }}
      </td>
      <td>
        {{ person.phone }}
      </td>
      <td>
        <ul>
          {% for error in form.phone.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.address.label }}
      </td>
      <td>
        {{ form.address }}
      </td>
      <td>
        {{ person.address }}
      </td>
      <td>
        <ul>
          {% for error in form.address.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.postalCode.label }}
      </td>
      <td>
        {{ form.postalCode }}
      </td>
      <td>
        {{ person.postalCode }}
      </td>
      <td>
        <ul>
          {% for error in form.postalCode.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.postOffice.label }}
      </td>
      <td>
        {{ form.postOffice }}
      </td>
      <td>
        {{ person.postOffice }}
      </td>
      <td>
        <ul>
          {% for error in form.postOffice.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.country.label }}
      </td>
      <td>
        {{ form.country }}
      </td>
      <td>
        {{ person.country }}
      </td>
      <td>
        <ul>
          {% for error in form.country.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <input type="hidden" name="person_id" value="{{ person.id }}">
        <input type="submit" value="Päivitä tiedot"
      </td>
    </tr>
  </table>
</form>
<p></p>
<table border="1">
  <thead>
    <tr>
      <th>Sarja</th>
      <th>Tapahtuma</th>
      <th>Lähtöaika</th>
      <th>Kokonaismatka</th>
    </tr>
  </thead>
  {% for series in series %}
  <tbody>
    <tr>
      <td>{{ series.seriesName }}</td>
      <td>{{ series.eventName }}</td>
      <td>{{ series.startTime }}</td>
      <td>{{ series.totalDistance }}</td>
    </tr>
  </tbody>
  {% endfor %}
</table>
{% endblock %}
